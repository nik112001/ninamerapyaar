<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ninaâ€™s Cozy Valentine ğŸ’–</title>

<style>
  body {
    margin: 0;
    font-family: "Comic Sans MS", Arial, sans-serif;
    background: linear-gradient(135deg, #ffe4ec, #fff1d6);
    overflow: hidden;
    text-align: center;
    color: #ff5c8a;
  }

  h1 {
    margin-top: 20px;
    font-size: 2.4rem;
  }

  #instructions {
    font-size: 1.2rem;
    margin-bottom: 8px;
  }

  #counter {
    font-size: 1.3rem;
    margin-bottom: 12px;
  }

  #musicBtn {
    background: #ffb3c6;
    color: #7a003c;
    border: none;
    border-radius: 20px;
    padding: 10px 20px;
    font-size: 1rem;
    cursor: pointer;
    margin-bottom: 15px;
  }

  .item {
    position: absolute;
    font-size: 2.6rem;
    cursor: pointer;
    animation: floatUp linear infinite;
    opacity: 0.9;
  }

  .yjhd {
    color: #9caf88; /* sage green */
    font-weight: bold;
  }

  .golden {
    position: absolute;
    font-size: 3rem;
    color: gold;
    font-weight: bold;
    opacity: 0.9;
    transition: all 2s ease-in-out;
  }

  @keyframes floatUp {
    from { transform: translateY(110vh); }
    to { transform: translateY(-10vh); }
  }

  #proposal {
    display: none;
    margin-top: 70px;
  }

  button.choice {
    font-size: 1.4rem;
    padding: 14px 28px;
    border: none;
    border-radius: 30px;
    background: #ff5c8a;
    color: white;
    cursor: pointer;
    margin: 15px;
    transition: transform 0.2s;
  }

  button.choice:hover {
    transform: scale(1.08);
  }

  #love {
    font-size: 2rem;
    margin-top: 20px;
    display: none;
  }
</style>
</head>

<body>

<h1>Collect Ninaâ€™s Favorites ğŸ’•</h1>
<div id="instructions">
  Click each cozy favorite 3 times â˜ï¸
</div>

<button id="musicBtn">ğŸµ Turn on cozy music</button>

<div id="counter">
  ğŸ¦· 0 | ğŸ¥‘ 0 | ğŸ“ 0 | â˜• 0 | YJHD 0
</div>

<div id="proposal">
  <h1>Nina ğŸ’–</h1>
  <p>You found everythingâ€¦ just like you found my heart.</p>
  <h2>Will you be my Valentine?</h2>

  <button class="choice">YES ğŸ’•</button>
  <button class="choice">ABSOLUTELY YES ğŸ¥°</button>

  <div id="love">ğŸ’– happiest yes ever ğŸ’–</div>
</div>

<audio id="bgMusic" loop>
  <source src="cozy.mp3" type="audio/mpeg">
</audio>

<script>
  // Global functions
  window.startMusic = startMusic;
  window.accept = accept;

  const music = document.getElementById("bgMusic");
  const counter = document.getElementById("counter");
  const proposal = document.getElementById("proposal");
  const love = document.getElementById("love");

  // Track counts for each item (3 clicks to complete)
  const collected = {
    tooth: 0,
    avo: 0,
    berry: 0,
    coffee: 0,
    yjhd: 0
  };

  function startMusic() {
    if (!music) return;
    music.volume = 0.4;
    music.play().catch(() => {});
    document.getElementById("musicBtn").style.display = "none";
  }

  function spawnItem(type, icon) {
    const el = document.createElement("div");
    el.textContent = icon;

    if (type === "yjhd") el.className = "item yjhd";
    else el.className = "item";

    el.style.left = Math.random() * 85 + "vw";
    el.style.animationDuration = (8 + Math.random() * 6) + "s";

    el.onclick = () => {
      if (type === "yjhd" && collected.yjhd < 3) {
        collected.yjhd++;
        el.remove();
      } else if (type !== "yjhd" && collected[type] < 3) {
        collected[type]++;
        el.remove();
      }
      updateCounter();
      checkWin();
    };

    document.body.appendChild(el);
    setTimeout(() => el.remove(), 15000);
  }

  function updateCounter() {
    counter.textContent =
      `ğŸ¦· ${collected.tooth} | ğŸ¥‘ ${collected.avo} | ğŸ“ ${collected.berry} | â˜• ${collected.coffee} | YJHD ${collected.yjhd}`;
  }

  function triggerGolden3333() {
    const types = ["ğŸ¦·", "ğŸ¥‘", "ğŸ“", "â˜•", "YJHD"];
    const centerX = window.innerWidth / 2;
    const centerY = window.innerHeight / 2;

    types.forEach(icon => {
      for (let i = 0; i < 3; i++) {
        const el = document.createElement("div");
        el.className = "golden";
        el.textContent = icon;
        el.style.left = Math.random() * window.innerWidth + "px";
        el.style.top = Math.random() * window.innerHeight + "px";
        document.body.appendChild(el);

        setTimeout(() => {
          el.style.left = centerX + "px";
          el.style.top = centerY + "px";
          el.style.transform = "translate(-50%, -50%) scale(3)";
          el.style.opacity = "0";
        }, 50);

        setTimeout(() => el.remove(), 2200);
      }
    });
  }

  function checkWin() {
    const allCollected =
      collected.tooth === 3 &&
      collected.avo === 3 &&
      collected.berry === 3 &&
      collected.coffee === 3 &&
      collected.yjhd === 3;

    if (allCollected) {
      document.querySelectorAll(".item").forEach(i => i.remove());
      triggerGolden3333();

      setTimeout(() => {
        proposal.style.display = "block";
      }, 2300);
    }
  }

  function accept() {
    love.style.display = "block";
  }

  // Event listeners
  document.getElementById("musicBtn").addEventListener("click", startMusic);
  document.querySelectorAll(".choice").forEach(btn => btn.addEventListener("click", accept));

  // Spawn loop
  setInterval(() => {
    spawnItem("tooth", "ğŸ¦·");
    spawnItem("avo", "ğŸ¥‘");
    spawnItem("berry", "ğŸ“");
    spawnItem("coffee", "â˜•");

    if (collected.yjhd < 3) spawnItem("yjhd", "YJHD");
  }, 2000);

</script>

</body>
</html>
